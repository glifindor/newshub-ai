# ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑĞ½Ğ¾Ğ³Ğ¾ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ñ€Ñ‚Ğ°Ğ»Ğ°

## ğŸ“‹ ĞĞ±Ñ‰Ğ°Ñ ÑÑ…ĞµĞ¼Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Frontend                             â”‚
â”‚                    (Next.js - Port 3000)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ HTTP/REST
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      API Gateway                             â”‚
â”‚              (Golang Gin/Echo - Port 8080)                   â”‚
â”‚    â€¢ Routing â€¢ Auth Middleware â€¢ Rate Limiting               â”‚
â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â”‚        â”‚         â”‚          â”‚         â”‚
   â”‚ gRPC   â”‚ gRPC    â”‚ gRPC     â”‚ gRPC    â”‚ gRPC
   â–¼        â–¼         â–¼          â–¼         â–¼
â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Auth â”‚ â”‚News  â”‚ â”‚SEO   â”‚ â”‚Admin  â”‚ â”‚Media     â”‚
â”‚:8081â”‚ â”‚:8082 â”‚ â”‚:8083 â”‚ â”‚:8084  â”‚ â”‚:8085     â”‚
â””â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
   â”‚       â”‚        â”‚         â”‚          â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PostgreSQL  â”‚          â”‚     Redis       â”‚
â”‚  (Port 5432) â”‚          â”‚  (Port 6379)    â”‚
â”‚              â”‚          â”‚  â€¢ Cache        â”‚
â”‚ â€¢ Users      â”‚          â”‚  â€¢ Sessions     â”‚
â”‚ â€¢ News       â”‚          â”‚  â€¢ Rate Limit   â”‚
â”‚ â€¢ Categories â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ â€¢ Tags       â”‚
â”‚ â€¢ Media      â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   Message Queue â”‚
                          â”‚  RabbitMQ/NATS  â”‚
                          â”‚  (Port 5672)    â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ï¸ ĞœĞ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑÑ‹ Ğ¸ Ğ¸Ñ… Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ

### 1. **Auth Service** (Port 8081)
**ĞÑ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ:**
- Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹
- Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ JWT Ñ‚Ğ¾ĞºĞµĞ½Ğ°Ğ¼Ğ¸ (access + refresh)
- Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ€Ğ¾Ğ»ÑĞ¼Ğ¸ Ğ¸ Ğ¿Ñ€Ğ°Ğ²Ğ°Ğ¼Ğ¸ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°
- OAuth2 Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ (Google, Facebook)

**Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸:**
- JWT Ğ´Ğ»Ñ Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ²
- bcrypt Ğ´Ğ»Ñ Ñ…ĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¿Ğ°Ñ€Ğ¾Ğ»ĞµĞ¹
- PostgreSQL Ğ´Ğ»Ñ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹
- Redis Ğ´Ğ»Ñ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ refresh Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ² Ğ¸ ÑĞµÑÑĞ¸Ğ¹

---

### 2. **News Service** (Port 8082)
**ĞÑ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ:**
- CRUD Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ñ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ÑĞ¼Ğ¸
- Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸ÑĞ¼Ğ¸ Ğ¸ Ñ‚ĞµĞ³Ğ°Ğ¼Ğ¸
- ĞŸĞ¾Ğ¸ÑĞº Ğ¸ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ĞµĞ¹
- Ğ’ĞµÑ€ÑĞ¸Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚ĞµĞ¹
- ĞŸÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ/Ñ‡ĞµÑ€Ğ½Ğ¾Ğ²Ğ¸ĞºĞ¸/Ğ°Ñ€Ñ…Ğ¸Ğ²

**Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸:**
- PostgreSQL Ğ´Ğ»Ñ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ĞµĞ¹
- Elasticsearch Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ¸ÑĞºĞ°
- Redis Ğ´Ğ»Ñ ĞºĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¿Ğ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ñ… Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ĞµĞ¹

---

### 3. **SEO Service** (Port 8083)
**ĞÑ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ:**
- Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¼ĞµÑ‚Ğ°Ñ‚ĞµĞ³Ğ¾Ğ² (title, description, keywords)
- Open Graph Ğ¸ Twitter Cards
- Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ sitemap.xml
- Robots.txt ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ
- Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ (JSON-LD, Schema.org)
- ĞšĞ°Ğ½Ğ¾Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ URL

**Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸:**
- Ğ’Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ Ñ News Service Ñ‡ĞµÑ€ĞµĞ· gRPC
- ĞšĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ² Redis
- ĞŸĞµÑ€Ğ¸Ğ¾Ğ´Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ sitemap

---

### 4. **Admin Service** (Port 8084)
**ĞÑ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ:**
- ĞŸĞ°Ğ½ĞµĞ»ÑŒ Ğ¼Ğ¾Ğ´ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ°
- Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑĞ¼Ğ¸ Ğ¸ Ñ€Ğ¾Ğ»ÑĞ¼Ğ¸
- ĞĞ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ° Ğ¸ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°
- Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸ÑĞ¼Ğ¸/Ñ‚ĞµĞ³Ğ°Ğ¼Ğ¸
- Ğ›Ğ¾Ğ³Ğ¸ Ğ¸ Ğ°ÑƒĞ´Ğ¸Ñ‚ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¹

**Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸:**
- gRPC ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ñ‹ Ğ´Ğ»Ñ Ğ²ÑĞµÑ… ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²
- ĞĞ³Ñ€ĞµĞ³Ğ°Ñ†Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¸Ğ· Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¾Ğ²
- ĞŸÑ€Ğ°Ğ²Ğ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ñ‡ĞµÑ€ĞµĞ· Auth Service

---

### 5. **Media Service** (Port 8085)
**ĞÑ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ:**
- Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹ Ğ¸ Ğ²Ğ¸Ğ´ĞµĞ¾
- Ğ ĞµÑĞ°Ğ¹Ğ· Ğ¸ Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹
- Ğ¥Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² (S3/MinIO)
- CDN Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ
- Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€ĞµĞ²ÑŒÑ

**Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸:**
- MinIO/S3 Ğ´Ğ»Ñ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ
- ImageMagick/Sharp Ğ´Ğ»Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸
- CDN Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ğ´Ğ°Ñ‡Ğ¸ ÑÑ‚Ğ°Ñ‚Ğ¸ĞºĞ¸

---

### 6. **API Gateway** (Port 8080)
**ĞÑ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ:**
- Ğ•Ğ´Ğ¸Ğ½Ğ°Ñ Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ° Ğ´Ğ»Ñ Ğ²ÑĞµÑ… ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ²
- ĞœĞ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğº Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑĞ°Ğ¼
- ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ (Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° JWT)
- Rate limiting Ğ¸ throttling
- Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³
- CORS Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°

**Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸:**
- Gin/Echo framework
- gRPC ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ñ‹ Ğ´Ğ»Ñ Ğ²ÑĞµÑ… ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²
- JWT middleware
- Redis Ğ´Ğ»Ñ rate limiting

---

## ğŸ“ Ğ¤Ğ°Ğ¹Ğ»Ğ¾Ğ²Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²

### Auth Service
```
/auth-service
â”œâ”€â”€ /cmd
â”‚   â””â”€â”€ /auth-service
â”‚       â””â”€â”€ main.go                 # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ°
â”œâ”€â”€ /internal
â”‚   â”œâ”€â”€ /config
â”‚   â”‚   â””â”€â”€ config.go               # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”‚   â”œâ”€â”€ /handler
â”‚   â”‚   â”œâ”€â”€ grpc_handler.go         # gRPC Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¸
â”‚   â”‚   â””â”€â”€ http_handler.go         # HTTP Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¸ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
â”‚   â”œâ”€â”€ /service
â”‚   â”‚   â”œâ”€â”€ auth_service.go         # Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸
â”‚   â”‚   â”œâ”€â”€ token_service.go        # Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ JWT
â”‚   â”‚   â””â”€â”€ user_service.go         # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑĞ¼Ğ¸
â”‚   â”œâ”€â”€ /repository
â”‚   â”‚   â”œâ”€â”€ user_repository.go      # Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ‘Ğ” Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹
â”‚   â”‚   â””â”€â”€ session_repository.go   # Redis Ğ´Ğ»Ñ ÑĞµÑÑĞ¸Ğ¹
â”‚   â”œâ”€â”€ /middleware
â”‚   â”‚   â””â”€â”€ auth_middleware.go      # Middleware Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ²
â”‚   â””â”€â”€ /models
â”‚       â”œâ”€â”€ user.go                 # ĞœĞ¾Ğ´ĞµĞ»ÑŒ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
â”‚       â””â”€â”€ token.go                # ĞœĞ¾Ğ´ĞµĞ»ÑŒ Ñ‚Ğ¾ĞºĞµĞ½Ğ°
â”œâ”€â”€ /pkg
â”‚   â”œâ”€â”€ /jwt
â”‚   â”‚   â””â”€â”€ jwt.go                  # Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹ Ğ´Ğ»Ñ JWT
â”‚   â”œâ”€â”€ /hash
â”‚   â”‚   â””â”€â”€ bcrypt.go               # Ğ¥ĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ°Ñ€Ğ¾Ğ»ĞµĞ¹
â”‚   â””â”€â”€ /validator
â”‚       â””â”€â”€ validator.go            # Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
â”œâ”€â”€ /proto
â”‚   â””â”€â”€ auth.proto                  # gRPC ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚Ñ‹
â”œâ”€â”€ /migrations
â”‚   â”œâ”€â”€ 001_create_users_table.up.sql
â”‚   â””â”€â”€ 001_create_users_table.down.sql
â”œâ”€â”€ .env
â”œâ”€â”€ go.mod
â”œâ”€â”€ go.sum
â”œâ”€â”€ Dockerfile
â””â”€â”€ README.md
```

---

### News Service
```
/news-service
â”œâ”€â”€ /cmd
â”‚   â””â”€â”€ /news-service
â”‚       â””â”€â”€ main.go
â”œâ”€â”€ /internal
â”‚   â”œâ”€â”€ /config
â”‚   â”‚   â””â”€â”€ config.go
â”‚   â”œâ”€â”€ /handler
â”‚   â”‚   â””â”€â”€ grpc_handler.go
â”‚   â”œâ”€â”€ /service
â”‚   â”‚   â”œâ”€â”€ news_service.go         # CRUD Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ĞµĞ¹
â”‚   â”‚   â”œâ”€â”€ category_service.go     # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸ÑĞ¼Ğ¸
â”‚   â”‚   â”œâ”€â”€ tag_service.go          # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ‚ĞµĞ³Ğ°Ğ¼Ğ¸
â”‚   â”‚   â””â”€â”€ search_service.go       # ĞŸĞ¾Ğ¸ÑĞº Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ĞµĞ¹
â”‚   â”œâ”€â”€ /repository
â”‚   â”‚   â”œâ”€â”€ news_repository.go
â”‚   â”‚   â”œâ”€â”€ category_repository.go
â”‚   â”‚   â””â”€â”€ tag_repository.go
â”‚   â”œâ”€â”€ /models
â”‚   â”‚   â”œâ”€â”€ news.go
â”‚   â”‚   â”œâ”€â”€ category.go
â”‚   â”‚   â””â”€â”€ tag.go
â”‚   â””â”€â”€ /cache
â”‚       â””â”€â”€ redis_cache.go          # ĞšĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
â”œâ”€â”€ /pkg
â”‚   â”œâ”€â”€ /slug
â”‚   â”‚   â””â”€â”€ slug.go                 # Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ slug'Ğ¾Ğ²
â”‚   â””â”€â”€ /pagination
â”‚       â””â”€â”€ pagination.go
â”œâ”€â”€ /proto
â”‚   â””â”€â”€ news.proto
â”œâ”€â”€ /migrations
â”‚   â”œâ”€â”€ 001_create_news_table.up.sql
â”‚   â”œâ”€â”€ 002_create_categories_table.up.sql
â”‚   â””â”€â”€ 003_create_tags_table.up.sql
â”œâ”€â”€ .env
â”œâ”€â”€ go.mod
â”œâ”€â”€ Dockerfile
â””â”€â”€ README.md
```

---

### SEO Service
```
/seo-service
â”œâ”€â”€ /cmd
â”‚   â””â”€â”€ /seo-service
â”‚       â””â”€â”€ main.go
â”œâ”€â”€ /internal
â”‚   â”œâ”€â”€ /config
â”‚   â”‚   â””â”€â”€ config.go
â”‚   â”œâ”€â”€ /handler
â”‚   â”‚   â””â”€â”€ grpc_handler.go
â”‚   â”œâ”€â”€ /service
â”‚   â”‚   â”œâ”€â”€ meta_service.go         # Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¼ĞµÑ‚Ğ°Ñ‚ĞµĞ³Ğ¾Ğ²
â”‚   â”‚   â”œâ”€â”€ sitemap_service.go      # Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ sitemap
â”‚   â”‚   â”œâ”€â”€ opengraph_service.go    # Open Graph
â”‚   â”‚   â””â”€â”€ schema_service.go       # Schema.org Ñ€Ğ°Ğ·Ğ¼ĞµÑ‚ĞºĞ°
â”‚   â”œâ”€â”€ /repository
â”‚   â”‚   â””â”€â”€ seo_repository.go
â”‚   â”œâ”€â”€ /models
â”‚   â”‚   â”œâ”€â”€ meta.go
â”‚   â”‚   â””â”€â”€ sitemap.go
â”‚   â””â”€â”€ /templates
â”‚       â”œâ”€â”€ sitemap.xml.tmpl
â”‚       â””â”€â”€ schema.json.tmpl
â”œâ”€â”€ /pkg
â”‚   â””â”€â”€ /generator
â”‚       â””â”€â”€ meta_generator.go
â”œâ”€â”€ /proto
â”‚   â””â”€â”€ seo.proto
â”œâ”€â”€ .env
â”œâ”€â”€ go.mod
â”œâ”€â”€ Dockerfile
â””â”€â”€ README.md
```

---

### Admin Service
```
/admin-service
â”œâ”€â”€ /cmd
â”‚   â””â”€â”€ /admin-service
â”‚       â””â”€â”€ main.go
â”œâ”€â”€ /internal
â”‚   â”œâ”€â”€ /config
â”‚   â”‚   â””â”€â”€ config.go
â”‚   â”œâ”€â”€ /handler
â”‚   â”‚   â””â”€â”€ grpc_handler.go
â”‚   â”œâ”€â”€ /service
â”‚   â”‚   â”œâ”€â”€ moderation_service.go   # ĞœĞ¾Ğ´ĞµÑ€Ğ°Ñ†Ğ¸Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ°
â”‚   â”‚   â”œâ”€â”€ analytics_service.go    # ĞĞ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°
â”‚   â”‚   â””â”€â”€ audit_service.go        # Ğ›Ğ¾Ğ³Ğ¸ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğ¹
â”‚   â”œâ”€â”€ /repository
â”‚   â”‚   â””â”€â”€ audit_repository.go
â”‚   â”œâ”€â”€ /models
â”‚   â”‚   â”œâ”€â”€ audit_log.go
â”‚   â”‚   â””â”€â”€ statistics.go
â”‚   â””â”€â”€ /clients
â”‚       â”œâ”€â”€ news_client.go          # gRPC ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Ğ´Ğ»Ñ News Service
â”‚       â”œâ”€â”€ auth_client.go          # gRPC ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Auth Service
â”‚       â””â”€â”€ media_client.go         # gRPC ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Media Service
â”œâ”€â”€ /proto
â”‚   â””â”€â”€ admin.proto
â”œâ”€â”€ .env
â”œâ”€â”€ go.mod
â”œâ”€â”€ Dockerfile
â””â”€â”€ README.md
```

---

### Media Service
```
/media-service
â”œâ”€â”€ /cmd
â”‚   â””â”€â”€ /media-service
â”‚       â””â”€â”€ main.go
â”œâ”€â”€ /internal
â”‚   â”œâ”€â”€ /config
â”‚   â”‚   â””â”€â”€ config.go
â”‚   â”œâ”€â”€ /handler
â”‚   â”‚   â””â”€â”€ grpc_handler.go
â”‚   â”œâ”€â”€ /service
â”‚   â”‚   â”œâ”€â”€ upload_service.go       # Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
â”‚   â”‚   â”œâ”€â”€ resize_service.go       # Ğ ĞµÑĞ°Ğ¹Ğ· Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹
â”‚   â”‚   â””â”€â”€ storage_service.go      # Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ S3/MinIO
â”‚   â”œâ”€â”€ /repository
â”‚   â”‚   â””â”€â”€ media_repository.go
â”‚   â”œâ”€â”€ /models
â”‚   â”‚   â””â”€â”€ media.go
â”‚   â””â”€â”€ /processor
â”‚       â””â”€â”€ image_processor.go      # ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹
â”œâ”€â”€ /pkg
â”‚   â”œâ”€â”€ /s3
â”‚   â”‚   â””â”€â”€ client.go               # S3/MinIO ĞºĞ»Ğ¸ĞµĞ½Ñ‚
â”‚   â””â”€â”€ /resize
â”‚       â””â”€â”€ resize.go
â”œâ”€â”€ /proto
â”‚   â””â”€â”€ media.proto
â”œâ”€â”€ .env
â”œâ”€â”€ go.mod
â”œâ”€â”€ Dockerfile
â””â”€â”€ README.md
```

---

### API Gateway
```
/gateway
â”œâ”€â”€ /cmd
â”‚   â””â”€â”€ /gateway
â”‚       â””â”€â”€ main.go
â”œâ”€â”€ /internal
â”‚   â”œâ”€â”€ /config
â”‚   â”‚   â””â”€â”€ config.go
â”‚   â”œâ”€â”€ /handler
â”‚   â”‚   â”œâ”€â”€ auth_handler.go         # ĞŸÑ€Ğ¾ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğº Auth Service
â”‚   â”‚   â”œâ”€â”€ news_handler.go         # ĞŸÑ€Ğ¾ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğº News Service
â”‚   â”‚   â”œâ”€â”€ seo_handler.go          # ĞŸÑ€Ğ¾ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğº SEO Service
â”‚   â”‚   â”œâ”€â”€ admin_handler.go        # ĞŸÑ€Ğ¾ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğº Admin Service
â”‚   â”‚   â””â”€â”€ media_handler.go        # ĞŸÑ€Ğ¾ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğº Media Service
â”‚   â”œâ”€â”€ /middleware
â”‚   â”‚   â”œâ”€â”€ auth_middleware.go      # JWT Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ°
â”‚   â”‚   â”œâ”€â”€ rate_limit.go           # Rate limiting
â”‚   â”‚   â”œâ”€â”€ cors.go                 # CORS Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸
â”‚   â”‚   â””â”€â”€ logger.go               # Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
â”‚   â”œâ”€â”€ /router
â”‚   â”‚   â””â”€â”€ router.go               # ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¾Ğ²
â”‚   â””â”€â”€ /clients
â”‚       â”œâ”€â”€ auth_client.go          # gRPC ĞºĞ»Ğ¸ĞµĞ½Ñ‚
â”‚       â”œâ”€â”€ news_client.go
â”‚       â”œâ”€â”€ seo_client.go
â”‚       â”œâ”€â”€ admin_client.go
â”‚       â””â”€â”€ media_client.go
â”œâ”€â”€ /pkg
â”‚   â””â”€â”€ /response
â”‚       â””â”€â”€ response.go             # Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚Ñ‹
â”œâ”€â”€ .env
â”œâ”€â”€ go.mod
â”œâ”€â”€ Dockerfile
â””â”€â”€ README.md
```

---

### Frontend (Next.js)
```
/frontend
â”œâ”€â”€ /src
â”‚   â”œâ”€â”€ /app
â”‚   â”‚   â”œâ”€â”€ /news
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx            # Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ĞµĞ¹
â”‚   â”‚   â”‚   â””â”€â”€ /[slug]
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx        # Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚Ğ¸
â”‚   â”‚   â”œâ”€â”€ /category
â”‚   â”‚   â”‚   â””â”€â”€ /[slug]
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ /admin
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ /components
â”‚   â”‚   â”œâ”€â”€ /news
â”‚   â”‚   â”‚   â”œâ”€â”€ NewsCard.tsx
â”‚   â”‚   â”‚   â””â”€â”€ NewsList.tsx
â”‚   â”‚   â”œâ”€â”€ /layout
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Footer.tsx
â”‚   â”‚   â””â”€â”€ /admin
â”‚   â”‚       â””â”€â”€ AdminPanel.tsx
â”‚   â”œâ”€â”€ /lib
â”‚   â”‚   â”œâ”€â”€ /api
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.ts             # API ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Auth
â”‚   â”‚   â”‚   â”œâ”€â”€ news.ts             # API ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Ğ´Ğ»Ñ News
â”‚   â”‚   â”‚   â””â”€â”€ media.ts
â”‚   â”‚   â””â”€â”€ /utils
â”‚   â”‚       â”œâ”€â”€ jwt.ts
â”‚   â”‚       â””â”€â”€ helpers.ts
â”‚   â””â”€â”€ /types
â”‚       â”œâ”€â”€ news.ts
â”‚       â””â”€â”€ user.ts
â”œâ”€â”€ /public
â”‚   â”œâ”€â”€ /images
â”‚   â””â”€â”€ /icons
â”œâ”€â”€ next.config.js
â”œâ”€â”€ package.json
â””â”€â”€ tsconfig.json
```

---

## ğŸ”„ Ğ’Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ Ğ¼ĞµĞ¶Ğ´Ñƒ ÑĞµÑ€Ğ²Ğ¸ÑĞ°Ğ¼Ğ¸

### ĞŸÑ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ» Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ

**gRPC** - Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ» Ğ´Ğ»Ñ Ğ¼ĞµĞ¶ÑĞµÑ€Ğ²Ğ¸ÑĞ½Ğ¾Ğ³Ğ¾ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ:
- âœ… Ğ’Ñ‹ÑĞ¾ĞºĞ°Ñ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ (HTTP/2, protobuf)
- âœ… Ğ¡Ñ‚Ñ€Ğ¾Ğ³Ğ°Ñ Ñ‚Ğ¸Ğ¿Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· .proto Ñ„Ğ°Ğ¹Ğ»Ñ‹
- âœ… Ğ’ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° streaming
- âœ… ĞĞ²Ñ‚Ğ¾Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ²

**REST/HTTP** - Ğ´Ğ»Ñ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ Gateway Ñ Frontend:
- âœ… Ğ£Ğ½Ğ¸Ğ²ĞµÑ€ÑĞ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ
- âœ… ĞŸÑ€Ğ¾ÑÑ‚Ğ¾Ñ‚Ğ° Ğ¾Ñ‚Ğ»Ğ°Ğ´ĞºĞ¸
- âœ… ĞšĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ° ÑƒÑ€Ğ¾Ğ²Ğ½Ğµ HTTP

### Ğ¡Ñ…ĞµĞ¼Ğ° Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ

```
Frontend (Next.js)
    â†“ HTTP/REST (JSON)
API Gateway (Port 8080)
    â†“ gRPC (Protobuf)
[Auth | News | SEO | Admin | Media] Services
    â†“
[PostgreSQL | Redis | MinIO]
```

### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ

#### 1. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚Ğ¸
```
1. Frontend â†’ Gateway: POST /api/news
   Headers: Authorization: Bearer <JWT>
   Body: { title, content, category_id }

2. Gateway â†’ Auth Service (gRPC): ValidateToken(token)
   Response: { user_id, role }

3. Gateway â†’ News Service (gRPC): CreateNews(user_id, news_data)
   Response: { news_id, slug }

4. Gateway â†’ SEO Service (gRPC): GenerateMeta(news_id)
   Response: { meta_tags, og_tags }

5. Gateway â†’ Frontend: { success: true, news_id, slug }
```

#### 2. ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚Ğ¸ Ñ SEO
```
1. Frontend â†’ Gateway: GET /api/news/[slug]

2. Gateway â†’ News Service (gRPC): GetNewsBySlug(slug)
   Response: { news_data }

3. Gateway â†’ SEO Service (gRPC): GetMeta(news_id)
   Response: { meta, og, schema }

4. Gateway â†’ Frontend: { news, seo }
```

---

## ğŸ” ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

### JWT Token Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend â”‚                          â”‚ Gateway  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                                     â”‚
     â”‚ POST /api/auth/login                â”‚
     â”‚ { email, password }                 â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                                     â”‚ ValidateCredentials(email, password)
     â”‚                                     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                                     â”‚                      â”‚
     â”‚                                     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                                     â”‚
     â”‚ { access_token, refresh_token }     â”‚
     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
     â”‚                                     â”‚
     â”‚ GET /api/news (protected)           â”‚
     â”‚ Authorization: Bearer <access>      â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                                     â”‚ ValidateToken(access_token)
     â”‚                                     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚                                     â”‚                      â”‚
     â”‚                                     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚                                     â”‚
     â”‚              { news_data }          â”‚
     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
```

### JWT Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°

**Access Token** (15 Ğ¼Ğ¸Ğ½ÑƒÑ‚):
```json
{
  "user_id": "uuid",
  "email": "user@example.com",
  "role": "editor",
  "permissions": ["create_news", "edit_news"],
  "exp": 1234567890,
  "iat": 1234567000
}
```

**Refresh Token** (7 Ğ´Ğ½ĞµĞ¹):
- Ğ¥Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑÑ Ğ² Redis Ñ TTL
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ´Ğ»Ñ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ access token

### Ğ Ğ¾Ğ»Ğ¸ Ğ¸ Ğ¿Ñ€Ğ°Ğ²Ğ°

```go
// Roles
const (
    RoleAdmin     = "admin"      // ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿
    RoleEditor    = "editor"     // Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ/Ñ€ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ĞµĞ¹
    RoleModerator = "moderator"  // ĞœĞ¾Ğ´ĞµÑ€Ğ°Ñ†Ğ¸Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ğ°
    RoleUser      = "user"       // Ğ§Ñ‚ĞµĞ½Ğ¸Ğµ, ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¸
)

// Permissions
const (
    PermCreateNews   = "create_news"
    PermEditNews     = "edit_news"
    PermDeleteNews   = "delete_news"
    PermModerate     = "moderate"
    PermManageUsers  = "manage_users"
)
```

---

## ğŸŒ Service Discovery

### Consul-based Discovery

```go
// Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ ÑĞµÑ€Ğ²Ğ¸ÑĞ° Ğ² Consul
func RegisterService(consul *api.Client, serviceName string, port int) error {
    registration := &api.AgentServiceRegistration{
        ID:      fmt.Sprintf("%s-%s", serviceName, uuid.New()),
        Name:    serviceName,
        Port:    port,
        Address: getLocalIP(),
        Check: &api.AgentServiceCheck{
            HTTP:     fmt.Sprintf("http://%s:%d/health", getLocalIP(), port),
            Interval: "10s",
            Timeout:  "3s",
        },
    }
    return consul.Agent().ServiceRegister(registration)
}

// ĞĞ±Ğ½Ğ°Ñ€ÑƒĞ¶ĞµĞ½Ğ¸Ğµ ÑĞµÑ€Ğ²Ğ¸ÑĞ°
func DiscoverService(consul *api.Client, serviceName string) (string, error) {
    services, _, err := consul.Health().Service(serviceName, "", true, nil)
    if err != nil || len(services) == 0 {
        return "", err
    }
    
    // Load balancing - random selection
    service := services[rand.Intn(len(services))]
    return fmt.Sprintf("%s:%d", service.Service.Address, service.Service.Port), nil
}
```

### ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ°: Static Configuration

```yaml
# gateway/config.yaml
services:
  auth:
    host: auth-service
    port: 8081
  news:
    host: news-service
    port: 8082
  seo:
    host: seo-service
    port: 8083
  admin:
    host: admin-service
    port: 8084
  media:
    host: media-service
    port: 8085
```

---

## ğŸš¦ API Gateway - ĞœĞ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

### Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¼Ğ°Ñ€ÑˆÑ€ÑƒÑ‚Ğ¾Ğ²

```go
// internal/router/router.go
func SetupRoutes(r *gin.Engine, clients *Clients) {
    // Public routes
    public := r.Group("/api")
    {
        // Auth
        public.POST("/auth/register", handlers.Register(clients.Auth))
        public.POST("/auth/login", handlers.Login(clients.Auth))
        public.POST("/auth/refresh", handlers.RefreshToken(clients.Auth))
        
        // News (public)
        public.GET("/news", handlers.GetNews(clients.News))
        public.GET("/news/:slug", handlers.GetNewsBySlug(clients.News))
        public.GET("/categories", handlers.GetCategories(clients.News))
        
        // SEO
        public.GET("/sitemap.xml", handlers.GetSitemap(clients.SEO))
        public.GET("/robots.txt", handlers.GetRobots(clients.SEO))
    }
    
    // Protected routes (JWT required)
    protected := r.Group("/api")
    protected.Use(middleware.AuthMiddleware(clients.Auth))
    {
        // News management
        protected.POST("/news", middleware.RequireRole("editor"), 
            handlers.CreateNews(clients.News))
        protected.PUT("/news/:id", middleware.RequireRole("editor"),
            handlers.UpdateNews(clients.News))
        protected.DELETE("/news/:id", middleware.RequireRole("admin"),
            handlers.DeleteNews(clients.News))
        
        // Media
        protected.POST("/media/upload", handlers.UploadMedia(clients.Media))
    }
    
    // Admin routes
    admin := r.Group("/api/admin")
    admin.Use(middleware.AuthMiddleware(clients.Auth))
    admin.Use(middleware.RequireRole("admin", "moderator"))
    {
        admin.GET("/users", handlers.GetUsers(clients.Admin))
        admin.GET("/statistics", handlers.GetStatistics(clients.Admin))
        admin.POST("/moderate/:id", handlers.ModerateContent(clients.Admin))
    }
}
```

### Rate Limiting

```go
// internal/middleware/rate_limit.go
func RateLimitMiddleware(redis *redis.Client) gin.HandlerFunc {
    return func(c *gin.Context) {
        ip := c.ClientIP()
        key := fmt.Sprintf("rate_limit:%s", ip)
        
        count, err := redis.Incr(ctx, key).Result()
        if err != nil {
            c.AbortWithStatus(500)
            return
        }
        
        if count == 1 {
            redis.Expire(ctx, key, time.Minute)
        }
        
        // 100 Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğ² Ğ¼Ğ¸Ğ½ÑƒÑ‚Ñƒ
        if count > 100 {
            c.JSON(429, gin.H{"error": "Too many requests"})
            c.Abort()
            return
        }
        
        c.Next()
    }
}
```

---

## ğŸ“Š ĞŸĞ¾Ñ€Ñ‚Ñ‹ ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²

| Ğ¡ĞµÑ€Ğ²Ğ¸Ñ          | HTTP Port | gRPC Port | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ                    |
|-----------------|-----------|-----------|----------------------------|
| Frontend        | 3000      | -         | Next.js Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ         |
| API Gateway     | 8080      | -         | REST API Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ°       |
| Auth Service    | -         | 8081      | ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ             |
| News Service    | -         | 8082      | Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ÑĞ¼Ğ¸       |
| SEO Service     | -         | 8083      | SEO Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ             |
| Admin Service   | -         | 8084      | ĞĞ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ               |
| Media Service   | -         | 8085      | ĞœĞµĞ´Ğ¸Ğ° Ñ„Ğ°Ğ¹Ğ»Ñ‹                |
| PostgreSQL      | 5432      | -         | Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…                |
| Redis           | 6379      | -         | ĞšĞµÑˆ Ğ¸ ÑĞµÑÑĞ¸Ğ¸               |
| RabbitMQ        | 5672/15672| -         | ĞÑ‡ĞµÑ€ĞµĞ´ÑŒ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹          |
| Consul          | 8500      | -         | Service Discovery          |
| MinIO           | 9000/9001 | -         | S3-ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ   |

---

## ğŸ”§ ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²

### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ .env Ğ´Ğ»Ñ Auth Service

```env
# Server
SERVICE_NAME=auth-service
GRPC_PORT=8081
HTTP_PORT=8091

# Database
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=password
DB_NAME=auth_db
DB_SSL_MODE=disable

# Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# JWT
JWT_SECRET=your-secret-key-change-in-production
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=168h

# Service Discovery
CONSUL_HOST=localhost
CONSUL_PORT=8500

# Logging
LOG_LEVEL=debug
LOG_FORMAT=json
```

---

## ğŸ³ Docker Compose

```yaml
version: '3.8'

services:
  # Databases
  postgres:
    image: postgres:15-alpine
    environment:
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: password
      POSTGRES_DB: news_portal
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data

  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data

  # Message Queue
  rabbitmq:
    image: rabbitmq:3-management-alpine
    ports:
      - "5672:5672"
      - "15672:15672"
    environment:
      RABBITMQ_DEFAULT_USER: admin
      RABBITMQ_DEFAULT_PASS: password

  # Service Discovery
  consul:
    image: consul:latest
    ports:
      - "8500:8500"
    command: agent -server -ui -bootstrap-expect=1 -client=0.0.0.0

  # Storage
  minio:
    image: minio/minio
    ports:
      - "9000:9000"
      - "9001:9001"
    environment:
      MINIO_ROOT_USER: admin
      MINIO_ROOT_PASSWORD: password123
    command: server /data --console-address ":9001"
    volumes:
      - minio_data:/data

  # Microservices
  auth-service:
    build: ./auth-service
    ports:
      - "8081:8081"
    depends_on:
      - postgres
      - redis
      - consul
    environment:
      DB_HOST: postgres
      REDIS_HOST: redis
      CONSUL_HOST: consul

  news-service:
    build: ./news-service
    ports:
      - "8082:8082"
    depends_on:
      - postgres
      - redis
      - consul
    environment:
      DB_HOST: postgres
      REDIS_HOST: redis
      CONSUL_HOST: consul

  seo-service:
    build: ./seo-service
    ports:
      - "8083:8083"
    depends_on:
      - postgres
      - redis
      - consul
    environment:
      DB_HOST: postgres
      REDIS_HOST: redis
      CONSUL_HOST: consul

  admin-service:
    build: ./admin-service
    ports:
      - "8084:8084"
    depends_on:
      - consul
    environment:
      CONSUL_HOST: consul

  media-service:
    build: ./media-service
    ports:
      - "8085:8085"
    depends_on:
      - postgres
      - minio
      - consul
    environment:
      DB_HOST: postgres
      MINIO_HOST: minio
      CONSUL_HOST: consul

  gateway:
    build: ./gateway
    ports:
      - "8080:8080"
    depends_on:
      - auth-service
      - news-service
      - seo-service
      - admin-service
      - media-service
      - consul
    environment:
      CONSUL_HOST: consul
      REDIS_HOST: redis

  frontend:
    build: ./frontend
    ports:
      - "3000:3000"
    depends_on:
      - gateway
    environment:
      NEXT_PUBLIC_API_URL: http://gateway:8080

volumes:
  postgres_data:
  redis_data:
  minio_data:
```

---

## ğŸ“ˆ ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

### Ğ“Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ½Ñ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

**Stateless ÑĞµÑ€Ğ²Ğ¸ÑÑ‹** (Ğ»ĞµĞ³ĞºĞ¾ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒÑÑ‚ÑÑ):
```bash
# Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ñ… ÑĞºĞ·ĞµĞ¼Ğ¿Ğ»ÑÑ€Ğ¾Ğ²
docker-compose up --scale news-service=3 --scale auth-service=2
```

**Ğ‘Ğ°Ğ»Ğ°Ğ½ÑĞ¸Ñ€Ğ¾Ğ²ĞºĞ° Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸:**
- Consul Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ²ÑĞµ Ğ¸Ğ½ÑÑ‚Ğ°Ğ½ÑÑ‹
- Gateway Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ round-robin Ğ¸Ğ»Ğ¸ random selection
- Health checks Ğ¾Ñ‚ÑĞµĞ¸Ğ²Ğ°ÑÑ‚ Ğ½ĞµÑ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‰Ğ¸Ğµ Ğ¸Ğ½ÑÑ‚Ğ°Ğ½ÑÑ‹

### ĞšĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

**Redis ĞºĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ° Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… ÑƒÑ€Ğ¾Ğ²Ğ½ÑÑ…:**

```go
// News Service - ĞºĞµÑˆ Ğ¿Ğ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ñ… Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ĞµĞ¹
func (s *NewsService) GetNews(ctx context.Context, id string) (*News, error) {
    // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ ĞºĞµÑˆ
    cached, err := s.cache.Get(ctx, fmt.Sprintf("news:%s", id))
    if err == nil {
        return unmarshal(cached), nil
    }
    
    // Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ Ğº Ğ‘Ğ”
    news, err := s.repo.GetByID(ctx, id)
    if err != nil {
        return nil, err
    }
    
    // ĞšĞµÑˆĞ¸Ñ€ÑƒĞµĞ¼ Ğ½Ğ° 5 Ğ¼Ğ¸Ğ½ÑƒÑ‚
    s.cache.Set(ctx, fmt.Sprintf("news:%s", id), news, 5*time.Minute)
    return news, nil
}
```

**CDN Ğ´Ğ»Ñ ÑÑ‚Ğ°Ñ‚Ğ¸ĞºĞ¸:**
- Ğ˜Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ Ñ€Ğ°Ğ·Ğ´Ğ°ÑÑ‚ÑÑ Ñ‡ĞµÑ€ĞµĞ· CloudFlare/CloudFront
- Media Service Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ signed URLs

### Database Sharding

**ĞŸĞ¾ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸ÑĞ¼/Ñ€ĞµĞ³Ğ¸Ğ¾Ğ½Ğ°Ğ¼:**
```
DB1: ĞŸĞ¾Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°, Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ°
DB2: Ğ¡Ğ¿Ğ¾Ñ€Ñ‚, ĞšÑƒĞ»ÑŒÑ‚ÑƒÑ€Ğ°
DB3: Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸, ĞĞ°ÑƒĞºĞ°
```

**ĞŸĞ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸:**
```
DB1: ĞĞ¾Ğ²Ğ¾ÑÑ‚Ğ¸ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ³Ğ¾ Ğ³Ğ¾Ğ´Ğ°
DB2: ĞÑ€Ñ…Ğ¸Ğ² Ğ¿Ñ€Ğ¾ÑˆĞ»Ñ‹Ñ… Ğ»ĞµÑ‚
```

### Message Queue Ğ´Ğ»Ñ Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ñ‹Ñ… Ğ·Ğ°Ğ´Ğ°Ñ‡

```go
// ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° email ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹
func (s *NewsService) PublishNews(news *News) error {
    // Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµĞ¼ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚ÑŒ
    err := s.repo.Save(news)
    if err != nil {
        return err
    }
    
    // ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ Ğ² Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ
    event := Event{
        Type: "news.published",
        Data: news,
    }
    return s.queue.Publish("notifications", event)
}

// Ğ’Ğ¾Ñ€ĞºĞµÑ€ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ
func (w *NotificationWorker) ProcessEvents() {
    msgs := w.queue.Consume("notifications")
    
    for msg := range msgs {
        switch msg.Type {
        case "news.published":
            w.sendEmailNotifications(msg.Data)
        }
    }
}
```

### Monitoring & Observability

**Prometheus + Grafana:**
```go
// ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸
var (
    httpRequestsTotal = prometheus.NewCounterVec(
        prometheus.CounterOpts{
            Name: "http_requests_total",
            Help: "Total HTTP requests",
        },
        []string{"service", "method", "status"},
    )
    
    httpRequestDuration = prometheus.NewHistogramVec(
        prometheus.HistogramOpts{
            Name: "http_request_duration_seconds",
            Help: "HTTP request duration",
        },
        []string{"service", "method"},
    )
)
```

**Distributed Tracing (Jaeger):**
```go
import "go.opentelemetry.io/otel"

// Ğ¢Ñ€ĞµĞ¹ÑĞ¸Ğ½Ğ³ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğ¼ĞµĞ¶Ğ´Ñƒ ÑĞµÑ€Ğ²Ğ¸ÑĞ°Ğ¼Ğ¸
func (h *Handler) CreateNews(ctx context.Context, req *pb.CreateNewsRequest) {
    ctx, span := otel.Tracer("news-service").Start(ctx, "CreateNews")
    defer span.End()
    
    // Ğ’Ñ‹Ğ·Ğ¾Ğ² Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ² ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ trace context
    meta, err := h.seoClient.GenerateMeta(ctx, newsID)
}
```

---

## ğŸ”’ Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ

### 1. **API Gateway Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ°**
- JWT Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ½Ğ° ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞµ
- Rate limiting (100 req/min per IP)
- CORS Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸
- Input validation

### 2. **ĞœĞµĞ¶ÑĞµÑ€Ğ²Ğ¸ÑĞ½Ğ¾Ğµ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ**
- mTLS Ğ´Ğ»Ñ gRPC (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
- Service mesh (Istio/Linkerd)
- API keys Ğ´Ğ»Ñ ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²

### 3. **Database Security**
- Prepared statements (Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ SQL injection)
- Least privilege principle
- Encrypted connections

### 4. **Secrets Management**
- HashiCorp Vault Ğ´Ğ»Ñ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ ÑĞµĞºÑ€ĞµÑ‚Ğ¾Ğ²
- Environment variables Ñ‡ĞµÑ€ĞµĞ· Docker secrets

---

## ğŸš€ Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹ Ğ¸ CI/CD

### GitHub Actions Pipeline

```yaml
name: Deploy Microservices

on:
  push:
    branches: [main]

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        service: [auth-service, news-service, seo-service, admin-service, media-service, gateway]
    
    steps:
      - uses: actions/checkout@v3
      
      - name: Build Docker image
        run: |
          docker build -t ${{ secrets.DOCKER_REGISTRY }}/${{ matrix.service }}:${{ github.sha }} ./${{ matrix.service }}
      
      - name: Push to registry
        run: |
          docker push ${{ secrets.DOCKER_REGISTRY }}/${{ matrix.service }}:${{ github.sha }}
      
      - name: Deploy to Kubernetes
        run: |
          kubectl set image deployment/${{ matrix.service }} \
            ${{ matrix.service }}=${{ secrets.DOCKER_REGISTRY }}/${{ matrix.service }}:${{ github.sha }}
```

### Kubernetes Deployment

```yaml
# news-service-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: news-service
spec:
  replicas: 3
  selector:
    matchLabels:
      app: news-service
  template:
    metadata:
      labels:
        app: news-service
    spec:
      containers:
      - name: news-service
        image: registry/news-service:latest
        ports:
        - containerPort: 8082
        env:
        - name: DB_HOST
          value: postgres-service
        - name: REDIS_HOST
          value: redis-service
        resources:
          requests:
            memory: "128Mi"
            cpu: "100m"
          limits:
            memory: "512Mi"
            cpu: "500m"
        livenessProbe:
          grpc:
            port: 8082
          initialDelaySeconds: 10
          periodSeconds: 10
---
apiVersion: v1
kind: Service
metadata:
  name: news-service
spec:
  selector:
    app: news-service
  ports:
  - port: 8082
    targetPort: 8082
  type: ClusterIP
```

---

## ğŸ“ Ğ˜Ñ‚Ğ¾Ğ³Ğ¸ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹

### ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ° Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑĞ½Ğ¾Ğ¹ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹

âœ… **ĞĞµĞ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾Ğµ Ñ€Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ** - ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ ÑĞµÑ€Ğ²Ğ¸Ñ Ğ´ĞµĞ¿Ğ»Ğ¾Ğ¸Ñ‚ÑÑ Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾  
âœ… **ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ** - Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµĞ¼ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ½ÑƒĞ¶Ğ½Ñ‹Ğµ ÑĞµÑ€Ğ²Ğ¸ÑÑ‹  
âœ… **Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ³Ğ¸Ğ±ĞºĞ¾ÑÑ‚ÑŒ** - Ğ¼Ğ¾Ğ¶ĞµĞ¼ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ€Ğ°Ğ·Ğ½Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸  
âœ… **ĞÑ‚ĞºĞ°Ğ·Ğ¾ÑƒÑÑ‚Ğ¾Ğ¹Ñ‡Ğ¸Ğ²Ğ¾ÑÑ‚ÑŒ** - Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ğµ Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ ÑĞµÑ€Ğ²Ğ¸ÑĞ° Ğ½Ğµ Ğ»Ğ¾Ğ¼Ğ°ĞµÑ‚ Ğ²ÑÑ ÑĞ¸ÑÑ‚ĞµĞ¼Ñƒ  
âœ… **ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ½Ğ°Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ** - Ñ€Ğ°Ğ·Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ Ğ½Ğ°Ğ´ Ñ€Ğ°Ğ·Ğ½Ñ‹Ğ¼Ğ¸ ÑĞµÑ€Ğ²Ğ¸ÑĞ°Ğ¼Ğ¸  

### ĞšĞ¾Ğ¼Ğ¿Ñ€Ğ¾Ğ¼Ğ¸ÑÑÑ‹

âš ï¸ **Ğ¡Ğ»Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹** - Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ DevOps ÑĞºÑĞ¿ĞµÑ€Ñ‚Ğ¸Ğ·Ğ°  
âš ï¸ **Ğ Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ½Ñ‹Ğµ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸** - ÑĞ»Ğ¾Ğ¶Ğ½ĞµĞµ Ğ¾Ğ±ĞµÑĞ¿ĞµÑ‡Ğ¸Ñ‚ÑŒ ACID  
âš ï¸ **Latency** - Ğ¼ĞµĞ¶ÑĞµÑ€Ğ²Ğ¸ÑĞ½Ğ¾Ğµ Ğ²Ğ·Ğ°Ğ¸Ğ¼Ğ¾Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ·Ğ°Ğ´ĞµÑ€Ğ¶ĞºĞ¸  
âš ï¸ **Debugging** - ÑĞ»Ğ¾Ğ¶Ğ½ĞµĞµ Ğ¾Ñ‚ÑĞ»ĞµĞ´Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñƒ Ğ¿Ğ¾ Ğ²ÑĞµĞ¹ Ñ†ĞµĞ¿Ğ¾Ñ‡ĞºĞµ  

---

## ğŸ¯ Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğµ ÑˆĞ°Ğ³Ğ¸

1. **Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ proto Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²** Ğ´Ğ»Ñ gRPC ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚Ğ¾Ğ²
2. **ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° CI/CD** Ğ¿Ğ°Ğ¹Ğ¿Ğ»Ğ°Ğ¹Ğ½Ğ°
3. **Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ‹Ñ… CRUD** Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹
4. **Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ°** (Prometheus, Grafana, Jaeger)
5. **ĞĞ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ñ… Ñ‚ĞµÑÑ‚Ğ¾Ğ²**
6. **ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Kubernetes** Ğ´Ğ»Ñ production
7. **Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ API** (Swagger/OpenAPI)

---

**ĞĞ²Ñ‚Ğ¾Ñ€:** GitHub Copilot  
**Ğ”Ğ°Ñ‚Ğ°:** 2025-10-14  
**Ğ’ĞµÑ€ÑĞ¸Ñ:** 1.0
